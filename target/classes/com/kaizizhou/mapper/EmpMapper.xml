<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kaizizhou.mapper.EmpMapper">

    <select id="findAll" resultType="com.kaizizhou.pojo.Emp">
        select e.name,e.gender,e.image,e.job,e.entry_date,e.update_time,d.name as deptName from emp e join dept d  on e.dept_id=d.id
        where 1=1
            <if test="name!=null and name!=''"> and e.name like concat('%',#{name},'%')</if>
            <if test="gender!=null and gender!=''">and e.gender=#{gender}</if>
            <if test="begin!=null and end!=null">and e.entry_date between #{begin} and #{end}</if>
    </select>
</mapper>